# Vulnerabilidad de Seguridad en Servicios Gubernamentales

## üö® Descripci√≥n de la Vulnerabilidad

Durante el desarrollo de esta API de validaci√≥n de c√©dulas, se descubri√≥ una vulnerabilidad de seguridad en los servicios gubernamentales uruguayos que permite el acceso no autorizado a informaci√≥n sensible de ciudadanos.

## ÔøΩ ESTADO ACTUAL (31/07/2025)

### ‚ö†Ô∏è Desarrollo Reciente
**El endpoint de la Loter√≠a Nacional ha sido inhabilitado** debido a errores que afectan el funcionamiento de los formularios oficiales en https://www.loteria.gub.uy/tramites_online.php

### üîÑ Migraci√≥n de Servicios
- **Endpoint principal**: Migrado a MEF (datos censurados pero funcional)
- **Impacto en la API**: Funcionalidad mantenida con informaci√≥n limitada
- **Estado del servicio**: Operativo hasta nuevo aviso
- **Calidad de datos**: Reducida debido a la censura en el endpoint MEF

### üìä Comparaci√≥n de Endpoints

| Aspecto | Loter√≠a (INACTIVO) | MEF (ACTIVO) |
|---------|-------------------|---------------|
| **Estado** | ‚ùå Inhabilitado | ‚úÖ Funcionando |
| **Datos** | Completos | Censurados |
| **Protocolo** | HTTP | HTTPS |
| **Disponibilidad** | 0% | ~95% |
| **Informaci√≥n** | Nombre completo | Informaci√≥n limitada |

---

## ÔøΩüìç Servicios Afectados

### Servicio MEF (Actualmente Activo)
- **URL**: `https://www.mef.gub.uy/bandejatramites/action` 
- **Estado actual**: **ACTIVO** - Datos censurados pero funcional
- **Nivel de censura**: Parcial - informaci√≥n limitada pero disponible
- **Uso actual**: Endpoint de respaldo para validaci√≥n

### Servicio Loter√≠a (Inhabilitado - 31/07/2025)
- **URL anterior**: `http://tramites.loteria.gub.uy/bandejatramites/action`
- **Estado actual**: **INHABILITADO** desde el 31/07/2025
- **Causa**: Error en endpoint que inhabilita formularios en https://www.loteria.gub.uy/tramites_online.php
- **Datos que expon√≠a**: Informaci√≥n personal completa de ciudadanos uruguayos
- **Impacto**: Formularios oficiales de la Loter√≠a Nacional no funcionan

## üîç Metodolog√≠a de Descubrimiento

1. **An√°lisis inicial**: Se detect√≥ la vulnerabilidad durante pruebas de integraci√≥n
2. **Reporte responsable**: Se intent√≥ reportar la vulnerabilidad a trav√©s de canales oficiales
3. **Falta de respuesta**: No se recibi√≥ respuesta adecuada por parte de las autoridades
4. **Persistencia del problema**: La vulnerabilidad migr√≥ a otro dominio gubernamental

## ‚ö†Ô∏è Impacto de Seguridad

### Informaci√≥n Expuesta
- N√∫meros de c√©dula de identidad
- Datos personales asociados
- Informaci√≥n que deber√≠a estar protegida bajo normativas de privacidad

### Riesgos Identificados
- **Violaci√≥n de privacidad**: Acceso no autorizado a datos personales
- **Protocolo inseguro**: Uso de HTTP en lugar de HTTPS
- **Falta de autenticaci√≥n**: No requiere credenciales para acceder
- **Sin rate limiting**: Permite consultas masivas automatizadas

## üõ°Ô∏è Medidas de Mitigaci√≥n Recomendadas

### Para las Autoridades
1. **Inmediato**:
   - Implementar autenticaci√≥n obligatoria
   - Migrar a HTTPS
   - Implementar rate limiting
   - Auditor√≠a de seguridad completa

2. **A mediano plazo**:
   - Revisi√≥n de todos los endpoints gubernamentales
   - Implementaci√≥n de pol√≠ticas de seguridad
   - Programa de divulgaci√≥n responsable de vulnerabilidades

### Para Desarrolladores
1. **Uso responsable**: Esta API implementa un uso √©tico y limitado
2. **Validaci√≥n local**: Priorizar validaci√≥n algor√≠tmica antes de consultas externas
3. **Caching responsable**: Evitar consultas innecesarias
4. **Respeto a la privacidad**: No almacenar ni procesar datos innecesariamente

## üìã Timeline del Reporte

| Fecha | Evento |
|-------|--------|
| **Mes 1** | Descubrimiento inicial de la vulnerabilidad en MEF |
| **Mes 2** | Intento de reporte responsable - Sin respuesta |
| **Mes 3** | Detecci√≥n de censura parcial en servicio MEF |
| **Mes 4** | Descubrimiento de la misma vulnerabilidad en Loter√≠a |
| **Mes 5** | Desarrollo de este repositorio como evidencia |
| **31/07/2025** | **ACTUALIZACI√ìN**: Endpoint de Loter√≠a inhabilitado por errores |
| **31/07/2025** | Migraci√≥n a endpoint MEF (datos censurados) como respaldo |
| **Hoy** | Publicaci√≥n con fines educativos y de concientizaci√≥n |

## üéØ Objetivo de Este Repositorio

Este proyecto **NO** pretende explotar la vulnerabilidad, sino:

1. **Demostrar el problema**: Mostrar la existencia de la vulnerabilidad
2. **Facilitar la soluci√≥n**: Proporcionar informaci√≥n clara para que puedan parchearlo
3. **Educar**: Mostrar buenas pr√°cticas de desarrollo seguro
4. **Presionar por una soluci√≥n**: Ante la falta de respuesta, hacer p√∫blico el problema

## üìû Contacto Responsable

Si eres parte de las autoridades gubernamentales y necesitas informaci√≥n adicional para solucionar esta vulnerabilidad:

- **GitHub Issues**: Abre un issue en este repositorio
- **Email**: [Agregar email de contacto]
- **Coordenaci√≥n**: Disponible para colaborar en la soluci√≥n

## ‚öñÔ∏è Consideraciones Legales

- Este reporte se realiza bajo principios de **divulgaci√≥n responsable**
- La informaci√≥n se usa √∫nicamente con **fines educativos**
- Se respeta la **privacidad** de los ciudadanos en todo momento
- Se busca la **mejora de la seguridad** de los sistemas gubernamentales

## üîÑ Actualizaciones

- **v1.0**: Reporte inicial de la vulnerabilidad
- **v1.1**: Documentaci√≥n de la migraci√≥n del problema a Loter√≠a
- **v1.2**: Implementaci√≥n de API de ejemplo con buenas pr√°cticas
- **v1.3 (31/07/2025)**: **Endpoint de Loter√≠a inhabilitado** - Migraci√≥n a MEF como respaldo
  - El endpoint de Loter√≠a ahora genera errores que inhabilitan los formularios oficiales
  - El servicio ahora utiliza el endpoint de MEF con datos censurados
  - Funcionalidad de validaci√≥n mantiene operatividad hasta nuevo aviso

---

**Nota**: Esta documentaci√≥n se actualiza regularmente. Si la vulnerabilidad es corregida, se reflejar√° aqu√≠ inmediatamente.

## ü§ù Colaboraci√≥n

Si trabajas en seguridad inform√°tica y puedes ayudar a contactar con las autoridades apropiadas, tu colaboraci√≥n es bienvenida.

**¬°Esperamos que este problema se solucione pronto para proteger la privacidad de todos los ciudadanos uruguayos!**
